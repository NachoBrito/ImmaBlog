{% extends '::base.html.twig' %}

{% block title %}{{'immablog.title' |trans}}{% endblock %}
{% block body -%}
{{ form_start(edit_form) }}
<div class='row-fluid'>
    <legend>{{'immablog.content-editor' |trans}}</legend>
    <label class='checkbox'>
        {{ form_widget(edit_form.public) }} {{ form_label(edit_form.public) }}
    </label>
</div>
<div class='row-fluid'>
    <div class="span12"
         <div class="control-group">
            <label class="control-label">{{ form_label(edit_form.parent) }}</label>
            <div class="controls">
                <span class='error'>{{ form_errors(edit_form.parent) }}</span>
                {{ form_widget(edit_form.parent) }}
            </div>
        </div>    
    </div>
    <div class='row-fluid'>
        <div class="span12">
            <div class="control-group">
                <label class="control-label">{{ form_label(edit_form.title) }}</label>
                <div class="controls">
                    <span class='error'>{{ form_errors(edit_form.title) }}</span>
                    {{ form_widget(edit_form.title,{ 'attr': {'class': 'span12'} }) }}
                </div>
            </div>    
        </div>
    </div>
    <div class='row-fluid'>
        <div class="span11">
            <div class="control-group">
                <label class="control-label">{{ form_label(edit_form.abstract) }}</label>
                <div class="controls collapse out" id="collapse-abstract">
                    <span class='error'>{{ form_errors(edit_form.abstract) }}</span>
                    {{ form_widget(edit_form.abstract,{ 'attr': {'class': 'span12'} }) }}
                </div>
                <div class="well" id="content-preview">
                    {{ entity.abstractHTML |raw}}
                </div>        
            </div>  
        </div>
        <div class="span1"><a class="btn btn-mini" data-toggle="button" href="javascript:void(0)" data-target="#collapse-abstract" onclick="javascript:$($(this).data('target')).collapse('toggle')"><i class="fa fa-edit" ></i></a></div>
    </div>
    <div class='row-fluid'>
        <div class="span11">
            <div class="control-group">
                <label class="control-label">{{ form_label(edit_form.content) }}</label>
                <div class="controls collapse out"  id="collapse-content">
                    <span class='error'>{{ form_errors(edit_form.content) }}</span>
                    {{ form_widget(edit_form.content,{ 'attr': {'class': 'span12'} }) }}
                </div>
                <div class="well" id="content-preview">
                    {{ entity.contentHTML |raw}}
                </div>
            </div>
        </div>
        <div class="span1"><a class="btn btn-mini" data-toggle="button" href="javascript:void(0)" data-target="#collapse-content" onclick="javascript:$($(this).data('target')).collapse('toggle')"><i class="fa fa-edit" ></i></a></div>
    </div>
    {{ form_end(edit_form) }}    
    <div class='row-fluid'>
        <div class="span12">
            {{ form_widget(edit_form._token) }}
            <div class="form-actions">
                {{ form_widget(edit_form.submit,{ 'attr': {'class': 'btn btn-primary'} }) }}
            </div>            
            <ul class="record_actions">
                <li>
                    <a href="{{ path('t') }}">
                        Back to the list
                    </a>
                </li>
                <li>{{ form(delete_form) }}</li>
            </ul>  
        </div>
    </div>
    {% endblock %}

